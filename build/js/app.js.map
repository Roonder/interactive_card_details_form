{"version":3,"sources":["app.js"],"names":["main","document","querySelector","form","confirmed","submitBtn","confirmedBtn","inputName","inputNumber","inputExpM","inputExpY","inputCvc","addEventListener","inputValidator","submit","reset","info","name","number","exp","cvc","inputs","querySelectorAll","buildInfo","e","idCheck","target","id","value","console","log","assignInfo","frontCard","cardName","children","firstElementChild","cardExp","lastElementChild","cardNumber","cardCvc","textContent","substring","classList","add","showError","parentElement","nextSibling","assignStyles","errorRemover","test","length","remove","message","reference","p","createElement","insertBefore","errores","forEach","error","align","style","fontSize","color","alignSelf","erroresArray","push","preventDefault","cardDefaults","input"],"mappings":"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","file":"app.js","sourcesContent":["// Variables\r\nconst main = document.querySelector('main');\r\nconst form = document.querySelector('.card-form');\r\nconst confirmed = document.querySelector('.confirmed');\r\nconst submitBtn = document.querySelector('#submit');\r\nconst confirmedBtn = document.querySelector('#confirmed');\r\n// Inputs\r\nconst inputName = document.querySelector('#name');\r\nconst inputNumber = document.querySelector('#number');\r\nconst inputExpM = document.querySelector('#expM');\r\nconst inputExpY = document.querySelector('#expY');\r\nconst inputCvc = document.querySelector('#cvc');\r\n// Listeners\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    inputName.addEventListener('blur', inputValidator);\r\n    inputNumber.addEventListener('blur', inputValidator);\r\n    inputExpM.addEventListener('blur', inputValidator);\r\n    inputExpY.addEventListener('blur', inputValidator);\r\n    inputCvc.addEventListener('blur', inputValidator);\r\n\r\n    // Submit and Confirmation\r\n    submitBtn.addEventListener('click', submit);\r\n    confirmedBtn.addEventListener('click', reset);\r\n});\r\n\r\n// Inputs Info\r\nconst info = {\r\n    name: '',\r\n    number: '',\r\n    exp: ['00', '00'],\r\n    cvc: ''\r\n}\r\n// Local Storage - Inputs\r\nconst inputs = document.querySelectorAll('input');\r\ninputs.forEach(input => {\r\n    input.addEventListener('input', buildInfo);\r\n});\r\n\r\n// Build Info\r\nfunction buildInfo(e) {\r\n    const idCheck = e.target.id;\r\n    const value = e.target.value;\r\n\r\n    if(idCheck === 'name') {\r\n        info.name = value;\r\n    }\r\n    if(idCheck === 'number'){\r\n        info.number = value;\r\n    }\r\n    if(idCheck === 'expM'){\r\n        info.exp[0] = value;\r\n    }\r\n    if(idCheck === 'expY'){\r\n        info.exp[1] = value;\r\n    }\r\n    if(idCheck === 'cvc'){\r\n        info.cvc = value;\r\n    }\r\n    \r\n    console.log(e.target);\r\n    assignInfo();\r\n}\r\n\r\n// Virtual DOM\r\nfunction assignInfo() {\r\n    const { name, number, exp, cvc} = info;\r\n    const frontCard = document.querySelector('.front-card');\r\n    const cardName = frontCard.children[2].firstElementChild.children[0];\r\n    const cardExp = frontCard.children[2].lastElementChild.children[0];\r\n    const cardNumber = frontCard.children[1].firstElementChild;\r\n\r\n    const backCard = document.querySelector('.back-card');\r\n    const cardCvc = backCard.firstElementChild.children[0];\r\n\r\n    cardName.textContent = 'Jane Appleseed';\r\n    cardExp.textContent = '00/00';\r\n    cardNumber.textContent = '0000 0000 0000 0000';\r\n    cardCvc.textContent = '123';\r\n\r\n    if(name !== '') {\r\n        cardName.textContent = name;\r\n    }\r\n    if( number !== '') {\r\n        cardNumber.textContent = `${number.substring(0,4)} ${number.substring(4,8)} ${number.substring(8,12)} ${number.substring(12,16)}`;\r\n    }\r\n    if( exp !== []) {\r\n        cardExp.textContent = `${exp[0]}/${exp[1]}`;\r\n    }\r\n    if( cvc !== ''){\r\n        cardCvc.textContent = info.cvc;\r\n    }\r\n}\r\n\r\n// Validator\r\nfunction inputValidator(e) {\r\n    // Names and All Inputs\r\n    if(e.target.value === '') {\r\n        if(e.target.id === 'cvc'){\r\n            e.target.classList.add('error');\r\n            showError(e, 'Can\\´t be blank', e.target.parentElement.nextSibling);\r\n            assignStyles();\r\n            return;\r\n        }\r\n        if(e.target.id === 'expM' || e.target.id === 'expY'){\r\n            e.target.classList.add('error');\r\n            showError(e, 'Can\\´t be blank', e.target.parentElement.nextSibling);\r\n            assignStyles('flex-start');\r\n            return;\r\n        }\r\n        e.target.classList.add('error');\r\n        showError(e, 'Can\\´t be blank');\r\n        assignStyles();\r\n        return;\r\n    } else {\r\n        errorRemover(e);\r\n    }\r\n    // Card Number\r\n    if(e.target.id === 'number'){\r\n        const number = e.target.value;\r\n        const regexNumber = /^\\d+$/;\r\n        if(regexNumber.test(number)) {\r\n            errorRemover(e);\r\n        } else {\r\n            e.target.classList.add('error');\r\n            showError(e, 'Wrong format. Only numbers required');\r\n            assignStyles();\r\n        }\r\n        if(e.target.value.length !== 16){\r\n            e.target.classList.add('error');\r\n            showError(e, '16 digits required');\r\n            assignStyles();\r\n        } else {\r\n            errorRemover(e);\r\n        }\r\n    }\r\n\r\n    // Expiration Date\r\n    if(e.target.id === 'expM') {\r\n        if(e.target.value > 12) {\r\n            e.target.classList.add('error');\r\n            showError(e, 'Introduce a valid date', e.target.parentElement.nextSibling);\r\n            assignStyles();\r\n        } else {\r\n            e.target.classList.remove('error');\r\n            errorRemover(e);\r\n        }\r\n    }\r\n    // CVC\r\n    if(e.target.id === 'cvc'){\r\n        if(e.target.value.length !== 3) {\r\n            e.target.classList.add('error');\r\n            showError(e, 'Introduce a valid CVC', e.target.parentElement.nextSibling);\r\n            assignStyles();\r\n        } else {\r\n            errorRemover(e);\r\n        }\r\n    }\r\n}\r\n\r\n// Errors\r\nfunction showError(e, message, reference = e.target.nextSibling) {\r\n    const p = document.createElement('P');\r\n    p.classList.add('error__text');\r\n    p.textContent = message;\r\n    form.insertBefore(p, reference);\r\n}\r\n\r\nfunction errorRemover(e) {\r\n    const errores = document.querySelectorAll('.error__text');\r\n    if(errores){\r\n        e.target.classList.remove('error');\r\n        errores.forEach(error => {\r\n            error.remove();\r\n        })\r\n    }\r\n}\r\n\r\n// Styles\r\nfunction assignStyles(align = 'flex-end') {\r\n    const erroresText = document.querySelectorAll('.error__text');\r\n    erroresText.forEach(error => {\r\n        error.style.fontSize = '1.2rem';\r\n        error.style.color = '#ff5252';\r\n        error.style.alignSelf = align;\r\n    });\r\n}\r\n\r\n// Submits\r\nfunction submit(e){\r\n    const { name, number, exp, cvc} = info;\r\n    const erroresArray = [];\r\n    const errores = document.querySelectorAll('.error__text');\r\n    errores.forEach(error => {\r\n        erroresArray.push(error);\r\n    })\r\n    e.preventDefault();\r\n    if(name !== '' && number !== '' && exp !== ['00','00'] && cvc !== '' && erroresArray.length === 0) {\r\n        main.classList.add('unshow');\r\n        confirmed.classList.remove('unshow');\r\n        errorRemover(e);\r\n    } else {\r\n        showError(e, 'Verify all previous fields', e.nextSibling);\r\n        assignStyles('center');\r\n    }\r\n}\r\n\r\nfunction reset(e) {\r\n    e.preventDefault();\r\n    main.classList.remove('unshow');\r\n    confirmed.classList.add('unshow');\r\n    cardDefaults();\r\n    form.reset();\r\n\r\n}\r\n// Set default values\r\nfunction cardDefaults() {\r\n    const frontCard = document.querySelector('.front-card');\r\n    const cardName = frontCard.children[2].firstElementChild.children[0];\r\n    const cardExp = frontCard.children[2].lastElementChild.children[0];\r\n    const cardNumber = frontCard.children[1].firstElementChild;\r\n\r\n    const backCard = document.querySelector('.back-card');\r\n    const cardCvc = backCard.firstElementChild.children[0];\r\n\r\n    cardName.textContent = 'Jane Appleseed';\r\n    cardExp.textContent = '00/00';\r\n    cardNumber.textContent = '0000 0000 0000 0000';\r\n    cardCvc.textContent = '123';\r\n}"]}