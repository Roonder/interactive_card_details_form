const main=document.querySelector("main"),form=document.querySelector(".card-form"),confirmed=document.querySelector(".confirmed"),submitBtn=document.querySelector("#submit"),confirmedBtn=document.querySelector("#confirmed"),inputName=document.querySelector("#name"),inputNumber=document.querySelector("#number"),inputExpM=document.querySelector("#expM"),inputExpY=document.querySelector("#expY"),inputCvc=document.querySelector("#cvc");document.addEventListener("DOMContentLoaded",()=>{inputName.addEventListener("blur",inputValidator),inputNumber.addEventListener("blur",inputValidator),inputExpM.addEventListener("blur",inputValidator),inputExpY.addEventListener("blur",inputValidator),inputCvc.addEventListener("blur",inputValidator),submitBtn.addEventListener("click",submit),confirmedBtn.addEventListener("click",reset)});const info={name:"",number:"",exp:["00","00"],cvc:""},inputs=document.querySelectorAll("input");function buildInfo(e){const t=e.target.id,r=e.target.value;"name"===t&&(info.name=r),"number"===t&&(info.number=r),"expM"===t&&(info.exp[0]=r),"expY"===t&&(info.exp[1]=r),"cvc"===t&&(info.cvc=r),console.log(e.target),assignInfo()}function assignInfo(){const{name:e,number:t,exp:r,cvc:n}=info,o=document.querySelector(".front-card"),i=o.children[2].firstElementChild.children[0],s=o.children[2].lastElementChild.children[0],a=o.children[1].firstElementChild,l=document.querySelector(".back-card").firstElementChild.children[0];i.textContent="Jane Appleseed",s.textContent="00/00",a.textContent="0000 0000 0000 0000",l.textContent="123",""!==e&&(i.textContent=e),""!==t&&(a.textContent=`${t.substring(0,4)} ${t.substring(4,8)} ${t.substring(8,12)} ${t.substring(12,16)}`),r!==[]&&(s.textContent=`${r[0]}/${r[1]}`),""!==n&&(l.textContent=info.cvc)}function inputValidator(e){if(""===e.target.value)return"cvc"===e.target.id?(e.target.classList.add("error"),showError(e,"Can´t be blank",e.target.parentElement.nextSibling),void assignStyles()):"expM"===e.target.id||"expY"===e.target.id?(e.target.classList.add("error"),showError(e,"Can´t be blank",e.target.parentElement.nextSibling),void assignStyles("flex-start")):(e.target.classList.add("error"),showError(e,"Can´t be blank"),void assignStyles());if(errorRemover(e),"number"===e.target.id){const t=e.target.value;/^\d+$/.test(t)?errorRemover(e):(e.target.classList.add("error"),showError(e,"Wrong format. Only numbers required"),assignStyles()),16!==e.target.value.length?(e.target.classList.add("error"),showError(e,"16 digits required"),assignStyles()):errorRemover(e)}"expM"===e.target.id&&(e.target.value>12?(e.target.classList.add("error"),showError(e,"Introduce a valid date",e.target.parentElement.nextSibling),assignStyles()):(e.target.classList.remove("error"),errorRemover(e))),"cvc"===e.target.id&&(3!==e.target.value.length?(e.target.classList.add("error"),showError(e,"Introduce a valid CVC",e.target.parentElement.nextSibling),assignStyles()):errorRemover(e))}function showError(e,t,r=e.target.nextSibling){const n=document.createElement("P");n.classList.add("error__text"),n.textContent=t,form.insertBefore(n,r)}function errorRemover(e){const t=document.querySelectorAll(".error__text");t&&(e.target.classList.remove("error"),t.forEach(e=>{e.remove()}))}function assignStyles(e="flex-end"){document.querySelectorAll(".error__text").forEach(t=>{t.style.fontSize="1.2rem",t.style.color="#ff5252",t.style.alignSelf=e})}function submit(e){const{name:t,number:r,exp:n,cvc:o}=info,i=[];document.querySelectorAll(".error__text").forEach(e=>{i.push(e)}),e.preventDefault(),""!==t&&""!==r&&n!==["00","00"]&&""!==o&&0===i.length?(main.classList.add("unshow"),confirmed.classList.remove("unshow"),errorRemover(e)):(showError(e,"Verify all previous fields",e.nextSibling),assignStyles("center"))}function reset(e){e.preventDefault(),main.classList.remove("unshow"),confirmed.classList.add("unshow"),cardDefaults(),form.reset()}function cardDefaults(){const e=document.querySelector(".front-card"),t=e.children[2].firstElementChild.children[0],r=e.children[2].lastElementChild.children[0],n=e.children[1].firstElementChild,o=document.querySelector(".back-card").firstElementChild.children[0];t.textContent="Jane Appleseed",r.textContent="00/00",n.textContent="0000 0000 0000 0000",o.textContent="123"}inputs.forEach(e=>{e.addEventListener("input",buildInfo)});
//# sourceMappingURL=app.js.map
